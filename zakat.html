<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Zakat Lengkap - Zakat Fitrah, Mal, dan Profesi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <style>
        :root {
            --primary: #2e7d32;
            --primary-light: #60ad5e;
            --primary-dark: #005005;
            --secondary: #f5f5f5;
            --text: #333;
            --text-light: #666;
            --accent: #ffd54f;
            --accent-dark: #fbc02d;
            --white: #ffffff;
            --gray-light: #f8f9fa;
            --border-radius: 10px;
            --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100" opacity="0.05"><text x="50%" y="50%" font-size="50" text-anchor="middle" fill="white">ï€Œ</text></svg>');
            background-repeat: repeat;
            font-family: "Font Awesome 6 Free";
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
        }
        
        header h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            position: relative;
            display: inline-block;
        }
        
        header h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--accent);
            border-radius: 2px;
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }
        
        /* Navigation */
        nav {
            background-color: var(--white);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .logo i {
            margin-right: 10px;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 2rem;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background-color: var(--primary);
            transition: var(--transition);
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--primary);
            cursor: pointer;
        }
        
        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        /* Section Styles */
        section {
            background: white;
            border-radius: var(--border-radius);
            padding: 2.5rem;
            margin-bottom: 2.5rem;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }
        
        section:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--primary-light);
            display: flex;
            align-items: center;
        }
        
        h2 i {
            margin-right: 12px;
            font-size: 1.8rem;
        }
        
        h3 {
            color: var(--primary-dark);
            margin: 1.8rem 0 1.2rem;
            display: flex;
            align-items: center;
        }
        
        h3 i {
            margin-right: 10px;
            font-size: 1.4rem;
        }
        
        p {
            margin-bottom: 1.2rem;
            line-height: 1.8;
        }
        
        /* Calculator Layout */
        .calculator {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2.5rem;
            margin-top: 2rem;
        }
        
        @media (max-width: 968px) {
            .calculator {
                grid-template-columns: 1fr;
            }
        }
        
        .calculator-box {
            background: var(--secondary);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
        }
        
        .calculator-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .input-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.8rem;
            font-weight: 600;
            color: var(--primary-dark);
            display: flex;
            align-items: center;
        }
        
        label i {
            margin-right: 10px;
            font-size: 1.1rem;
        }
        
        input, select {
            width: 100%;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.2);
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        button i {
            margin-right: 10px;
        }
        
        button:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn-secondary {
            background-color: var(--accent);
            color: var(--text);
        }
        
        .btn-secondary:hover {
            background-color: var(--accent-dark);
        }
        
        .btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        /* Result Styles */
        .result {
            margin-top: 2rem;
            padding: 2rem;
            background-color: #e8f5e9;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result h4 {
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .result h4 i {
            margin-right: 10px;
        }
        
        .result p {
            font-size: 1.1rem;
            margin: 0.8rem 0;
        }
        
        .highlight {
            font-weight: bold;
            color: var(--primary);
            font-size: 1.3rem;
        }
        
        /* Verse Styles */
        .verse {
            font-style: italic;
            background-color: #f5f5f5;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            border-left: 3px solid var(--primary);
            margin: 1.5rem 0;
            line-height: 1.8;
        }
        
        .reference {
            text-align: right;
            font-weight: bold;
            margin-top: 1rem;
            color: var(--primary);
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 3rem 2rem;
            background-color: var(--primary-dark);
            color: white;
            margin-top: 3rem;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            list-style: none;
            margin: 1.5rem 0;
        }
        
        .footer-links li {
            margin: 0 1rem;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-links a:hover {
            color: var(--accent);
        }
        
        /* Tab Container */
        .tab-container {
            margin-top: 2.5rem;
        }
        
        .tabs {
            display: flex;
            border-bottom: 2px solid var(--primary-light);
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 1.2rem 2rem;
            cursor: pointer;
            background: #e0e0e0;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            margin-right: 5px;
            font-weight: 600;
            display: flex;
            align-items: center;
            transition: var(--transition);
        }
        
        .tab i {
            margin-right: 10px;
        }
        
        .tab.active {
            background: var(--primary);
            color: white;
        }
        
        .tab-content {
            padding: 2rem;
            background: white;
            border-bottom-left-radius: var(--border-radius);
            border-bottom-right-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        .content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content.active {
            display: block;
        }
        
        /* Note Styles */
        .note {
            background-color: #fffde7;
            padding: 1.2rem;
            border-radius: var(--border-radius);
            border-left: 3px solid #ffd600;
            margin: 1.5rem 0;
            font-size: 0.95rem;
        }
        
        .note strong {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .note strong i {
            margin-right: 8px;
        }
        
        /* Mal Type Styles */
        .mal-type {
            display: none;
        }
        
        .mal-type.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        /* Info Box */
        .info-box {
            background-color: #e3f2fd;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin: 1.5rem 0;
            border-left: 3px solid #2196f3;
        }
        
        .info-box h4 {
            display: flex;
            align-items: center;
            margin-bottom: 0.8rem;
            color: #1565c0;
        }
        
        .info-box h4 i {
            margin-right: 10px;
        }
        
        /* Calculator Header */
        .calculator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .calculator-title {
            display: flex;
            align-items: center;
        }
        
        .calculator-title i {
            font-size: 2rem;
            color: var(--primary);
            margin-right: 12px;
        }
        
        /* Zakat Types Grid */
        .zakat-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2.5rem;
        }
        
        .zakat-type-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
            border-top: 4px solid var(--primary);
            height: 100%;
        }
        
        .zakat-type-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }
        
        .zakat-type-card h3 {
            color: var(--primary);
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
        }
        
        .zakat-type-card h3 i {
            margin-right: 12px;
            font-size: 1.6rem;
        }
        
        .zakat-type-card p {
            color: var(--text-light);
        }
        
        /* Feature List */
        .feature-list {
            margin: 1.5rem 0;
            list-style: none;
        }
        
        .feature-list li {
            margin-bottom: 0.8rem;
            display: flex;
            align-items: flex-start;
        }
        
        .feature-list i {
            margin-right: 12px;
            color: var(--primary);
            margin-top: 4px;
            flex-shrink: 0;
        }
        
        /* FAQ Section */
        .faq-container {
            margin-top: 2rem;
        }
        
        .faq-item {
            margin-bottom: 1.5rem;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .faq-question {
            background-color: var(--primary-light);
            color: white;
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
        }
        
        .faq-question i {
            transition: var(--transition);
        }
        
        .faq-answer {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            background-color: var(--gray-light);
            transition: var(--transition);
        }
        
        .faq-item.active .faq-answer {
            padding: 1.5rem;
            max-height: 500px;
        }
        
        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }
        
        /* Print Styles */
        @media print {
            nav, button, .tabs, footer {
                display: none !important;
            }
            
            body, .container, section {
                padding: 0;
                margin: 0;
                box-shadow: none;
            }
            
            .result {
                border: 1px solid #000;
                page-break-inside: avoid;
            }
        }
        
        /* Responsive Styles */
        @media (max-width: 992px) {
            .container {
                padding: 1.5rem;
            }
            
            section {
                padding: 2rem;
            }
            
            header h1 {
                font-size: 2.3rem;
            }
            
            header p {
                font-size: 1.1rem;
            }
            
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: var(--white);
                flex-direction: column;
                padding: 1rem 0;
                box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-links li {
                margin: 0;
                padding: 0.8rem 2rem;
                width: 100%;
            }
            
            .nav-links li:hover {
                background-color: var(--gray-light);
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .calculator-box {
                padding: 1.5rem;
            }
            
            .tab {
                padding: 1rem;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            h3 {
                font-size: 1.3rem;
            }
            
            .zakat-types {
                grid-template-columns: 1fr;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                margin-bottom: 5px;
                border-radius: var(--border-radius);
                border-top-left-radius: 8px;
                border-top-right-radius: 8px;
            }
        }
        
        /* Animation for counters */
        .counter {
            font-variant-numeric: tabular-nums;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-light);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }
        
        /* Progress bar */
        .progress-container {
            width: 100%;
            height: 4px;
            background: #e0e0e0;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1001;
        }
        
        .progress-bar {
            height: 4px;
            background: var(--primary);
            width: 0%;
        }
    </style>
</head>
<body>
    <!-- Progress bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <header>
        <div class="header-content">
            <h1><i class="fas fa-hand-holding-heart"></i> Kalkulator Zakat Lengkap</h1>
            <p>Menghitung kewajiban zakat Fitrah, Mal, dan Profesi sesuai ketentuan syariat Islam</p>
        </div>
    </header>

    <nav>
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-mosque"></i>
                <span>KalkulatorZakat</span>
            </div>
            <ul class="nav-links">
                <li><a href="#intro"><i class="fas fa-info-circle"></i> Pengertian</a></li>
                <li><a href="#calculators"><i class="fas fa-calculator"></i> Kalkulator</a></li>
                <li><a href="#recipients"><i class="fas fa-hand-holding-usd"></i> Penerima</a></li>
                <li><a href="#faq"><i class="fas fa-question-circle"></i> FAQ</a></li>
                <li><a href="#contact"><i class="fas fa-envelope"></i> Kontak</a></li>
            </ul>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <div class="container">
        <section id="intro">
            <h2><i class="fas fa-info-circle"></i> Pengertian Zakat</h2>
            <p>Zakat adalah harta yang wajib dikeluarkan oleh seorang muslim yang memenuhi syarat untuk diberikan kepada golongan yang berhak menerimanya. Zakat merupakan rukun Islam keempat dan memiliki kedudukan yang sangat penting dalam Islam.</p>
            
            <div class="verse">
                "Dan dirikanlah shalat, tunaikanlah zakat, dan ruku'lah beserta orang-orang yang ruku'."
                <div class="reference">QS. Al-Baqarah: 43</div>
            </div>
            
            <h3><i class="fas fa-list-check"></i> Jenis-Jenis Zakat</h3>
            <div class="zakat-types">
                <div class="zakat-type-card">
                    <h3><i class="fas fa-moon"></i> Zakat Fitrah</h3>
                    <p>Zakat yang wajib dikeluarkan setiap muslim pada bulan Ramadan hingga sebelum shalat Idul Fitri.</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-coins"></i> Zakat Mal</h3>
                    <p>Zakat yang dikeluarkan dari harta kekayaan yang dimiliki setelah memenuhi syarat-syarat tertentu.</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-briefcase"></i> Zakat Profesi</h3>
                    <p>Zakat yang dikeluarkan dari penghasilan yang diperoleh dari profesi atau pekerjaan.</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-seedling"></i> Zakat Pertanian</h3>
                    <p>Zakat yang dikeluarkan dari hasil pertanian dan perkebunan ketika telah mencapai nisab.</p>
                </div>
            </div>
        </section>

        <section id="calculators">
            <h2><i class="fas fa-calculator"></i> Kalkulator Zakat</h2>
            <p>Gunakan kalkulator di bawah ini untuk menghitung kewajiban zakat Anda sesuai dengan jenis zakat yang ingin ditunaikan.</p>
            
            <div class="tab-container">
                <div class="tabs">
                    <div class="tab active" data-tab="fitrah"><i class="fas fa-moon"></i> Zakat Fitrah</div>
                    <div class="tab" data-tab="mal"><i class="fas fa-coins"></i> Zakat Mal</div>
                    <div class="tab" data-tab="profesi"><i class="fas fa-briefcase"></i> Zakat Profesi</div>
                </div>
                
                <div class="tab-content">
                    <div class="content active" id="fitrah-content">
                        <h3><i class="fas fa-moon"></i> Zakat Fitrah</h3>
                        <p>Zakat fitrah adalah zakat yang wajib dikeluarkan oleh setiap muslim, baik laki-laki, perempuan, tua, muda, bahkan bayi yang lahir sebelum matahari terbenam pada hari terakhir bulan Ramadan.</p>
                        
                        <div class="verse">
                            "Rasulullah SAW mewajibkan zakat fitrah (pada bulan Ramadhan) kepada manusia..."
                            <div class="reference">HR. Al-Bukhari dan Muslim</div>
                        </div>
                        
                        <h3><i class="fas fa-list-check"></i> Ketentuan Zakat Fitrah</h3>
                        <ul class="feature-list">
                            <li><i class="fas fa-check-circle"></i> Dibayarkan pada bulan Ramadan hingga sebelum shalat Idul Fitri</li>
                            <li><i class="fas fa-check-circle"></i> Besarnya setara dengan 2.5 kg atau 3.5 liter makanan pokok</li>
                            <li><i class="fas fa-check-circle"></i> Bisa dibayarkan dalam bentuk beras atau uang yang setara</li>
                            <li><i class="fas fa-check-circle"></i> Wajib bagi setiap muslim yang mampu</li>
                        </ul>
                        
                        <div class="note">
                            <strong><i class="fas fa-lightbulb"></i> Catatan:</strong> Harga beras yang digunakan adalah harga beras yang biasa dikonsumsi sehari-hari.
                        </div>
                        
                        <div class="calculator-box">
                            <div class="calculator-header">
                                <div class="calculator-title">
                                    <i class="fas fa-calculator"></i>
                                    <h3>Kalkulator Zakat Fitrah</h3>
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <label for="familyMembers"><i class="fas fa-users"></i> Jumlah Anggota Keluarga</label>
                                <input type="number" id="familyMembers" min="1" value="1">
                            </div>
                            <div class="input-group">
                                <label for="ricePrice"><i class="fas fa-tag"></i> Harga Beras per Kg (Rp)</label>
                                <input type="number" id="ricePrice" min="1000" value="15000">
                            </div>
                            <button onclick="calculateFitrah()"><i class="fas fa-calculator"></i> Hitung Zakat Fitrah</button>
                            
                            <div class="result" id="fitrahResult">
                                <h4><i class="fas fa-hand-holding-heart"></i> Hasil Perhitungan</h4>
                                <p>Total Zakat Fitrah: <span id="fitrahTotal" class="highlight">Rp 0</span></p>
                                <p>Detail: <span id="fitrahDetail">-</span></p>
                            </div>
                            
                            <div class="btn-group">
                                <button class="btn-secondary" onclick="saveCalculation('fitrah')"><i class="fas fa-save"></i> Simpan</button>
                                <button class="btn-secondary" onclick="printCalculation('fitrah')"><i class="fas fa-print"></i> Cetak</button>
                                <button class="btn-secondary" onclick="resetForm('fitrah')"><i class="fas fa-redo"></i> Reset</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="content" id="mal-content">
                        <h3><i class="fas fa-coins"></i> Zakat Mal (Harta)</h3>
                        <p>Zakat mal adalah zakat yang dikeluarkan dari harta kekayaan yang dimiliki seorang muslim setelah memenuhi syarat-syarat tertentu.</p>
                        
                        <div class="verse">
                            "Ambillah zakat dari sebagian harta mereka, dengan zakat itu kamu membersihkan dan mensucikan mereka..."
                            <div class="reference">QS. At-Taubah: 103</div>
                        </div>
                        
                        <h3><i class="fas fa-list-check"></i> Ketentuan Zakat Mal</h3>
                        <ul class="feature-list">
                            <li><i class="fas fa-check-circle"></i> Nisab zakat mal setara dengan 85 gram emas</li>
                            <li><i class="fas fa-check-circle"></i> Haul: harta telah dimiliki selama 1 tahun (354 hari hijriyah)</li>
                            <li><i class="fas fa-check-circle"></i> Kadar zakat: 2.5% dari total harta (kecuali pertanian)</li>
                            <li><i class="fas fa-check-circle"></i> Harta yang wajib dizakati: uang, emas, perak, investasi, dll</li>
                        </ul>
                        
                        <div class="calculator-box">
                            <div class="calculator-header">
                                <div class="calculator-title">
                                    <i class="fas fa-calculator"></i>
                                    <h3>Kalkulator Zakat Mal</h3>
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <label for="malType"><i class="fas fa-list"></i> Jenis Zakat Mal</label>
                                <select id="malType" onchange="changeMalType()">
                                    <option value="money">Uang/Tabungan</option>
                                    <option value="gold">Emas/Perak</option>
                                    <option value="agriculture">Pertanian/Perkebunan</option>
                                    <option value="livestock">Peternakan</option>
                                    <option value="trade">Perdagangan</option>
                                </select>
                            </div>
                            
                            <!-- Input untuk Uang/Tabungan -->
                            <div class="mal-type active" id="money-inputs">
                                <div class="input-group">
                                    <label for="savings"><i class="fas fa-money-bill-wave"></i> Jumlah Uang/Tabungan (Rp)</label>
                                    <input type="number" id="savings" min="0" value="0">
                                </div>
                                <div class="input-group">
                                    <label for="otherMoney"><i class="fas fa-coins"></i> Harta Likuid Lainnya (Rp)</label>
                                    <input type="number" id="otherMoney" min="0" value="0">
                                </div>
                            </div>
                            
                            <!-- Input untuk Emas/Perak -->
                            <div class="mal-type" id="gold-inputs">
                                <div class="input-group">
                                    <label for="goldWeight"><i class="fas fa-weight-hanging"></i> Berat Emas (gram)</label>
                                    <input type="number" id="goldWeight" min="0" value="0" step="0.01">
                                </div>
                                <div class="input-group">
                                    <label for="goldPriceGram"><i class="fas fa-tag"></i> Harga Emas per Gram (Rp)</label>
                                    <input type="number" id="goldPriceGram" min="1000" value="1000000">
                                </div>
                                <div class="input-group">
                                    <label for="silverWeight"><i class="fas fa-weight-hanging"></i> Berat Perak (gram)</label>
                                    <input type="number" id="silverWeight" min="0" value="0" step="0.01">
                                </div>
                                <div class="input-group">
                                    <label for="silverPriceGram"><i class="fas fa-tag"></i> Harga Perak per Gram (Rp)</label>
                                    <input type="number" id="silverPriceGram" min="100" value="12000">
                                </div>
                            </div>
                            
                            <!-- Input untuk Pertanian -->
                            <div class="mal-type" id="agriculture-inputs">
                                <div class="input-group">
                                    <label for="cropType"><i class="fas fa-seedling"></i> Jenis Hasil Panen</label>
                                    <select id="cropType">
                                        <option value="rice">Padi/Beras</option>
                                        <option value="corn">Jagung</option>
                                        <option value="wheat">Gandum</option>
                                        <option value="other">Lainnya</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label for="cropAmount"><i class="fas fa-weight-hanging"></i> Jumlah Hasil Panen (kg)</label>
                                    <input type="number" id="cropAmount" min="0" value="0">
                                </div>
                                <div class="input-group">
                                    <label for="irrigationType"><i class="fas fa-tint"></i> Jenis Irigasi</label>
                                    <select id="irrigationType">
                                        <option value="rain">Air Hujan/Alami (zakat 10%)</option>
                                        <option value="irrigated">Irigasi/Biaya (zakat 5%)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Input untuk Peternakan -->
                            <div class="mal-type" id="livestock-inputs">
                                <div class="input-group">
                                    <label for="livestockType"><i class="fas fa-cow"></i> Jenis Ternak</label>
                                    <select id="livestockType">
                                        <option value="cow">Sapi/Kerbau</option>
                                        <option value="goat">Kambing/Domba</option>
                                        <option value="poultry">Unggas (Ayam, Bebek, dll)</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label for="livestockCount"><i class="fas fa-list-ol"></i> Jumlah Ternak</label>
                                    <input type="number" id="livestockCount" min="0" value="0">
                                </div>
                            </div>
                            
                            <!-- Input untuk Perdagangan -->
                            <div class="mal-type" id="trade-inputs">
                                <div class="input-group">
                                    <label for="businessAssets"><i class="fas fa-store"></i> Nilai Aset Usaha (Rp)</label>
                                    <input type="number" id="businessAssets" min="0" value="0">
                                </div>
                                <div class="input-group">
                                    <label for="businessProfit"><i class="fas fa-chart-line"></i> Keuntungan Bersih Tahunan (Rp)</label>
                                    <input type="number" id="businessProfit" min="0" value="0">
                                </div>
                                <div class="input-group">
                                    <label for="businessDebts"><i class="fas fa-file-invoice-dollar"></i> Hutang Usaha (Rp)</label>
                                    <input type="number" id="businessDebts" min="0" value="0">
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <label for="debts"><i class="fas fa-file-invoice-dollar"></i> Hutang Pribadi yang Harus Dibayar (Rp)</label>
                                <input type="number" id="debts" min="0" value="0">
                            </div>
                            
                            <button onclick="calculateMal()"><i class="fas fa-calculator"></i> Hitung Zakat Mal</button>
                            
                            <div class="result" id="malResult">
                                <h4><i class="fas fa-hand-holding-heart"></i> Hasil Perhitungan</h4>
                                <p>Nisab Zakat Mal: <span id="nisab" class="highlight">Rp 0</span></p>
                                <p>Total Harta: <span id="totalWealth" class="highlight">Rp 0</span></p>
                                <p>Harta Wajib Zakat: <span id="zakatableWealth" class="highlight">Rp 0</span></p>
                                <p>Zakat Mal yang Harus Dibayar: <span id="malTotal" class="highlight">Rp 0</span></p>
                                <p id="noZakatMessage" style="display: none;">Anda belum wajib membayar zakat mal karena harta Anda belum mencapai nisab.</p>
                            </div>
                            
                            <div class="btn-group">
                                <button class="btn-secondary" onclick="saveCalculation('mal')"><i class="fas fa-save"></i> Simpan</button>
                                <button class="btn-secondary" onclick="printCalculation('mal')"><i class="fas fa-print"></i> Cetak</button>
                                <button class="btn-secondary" onclick="resetForm('mal')"><i class="fas fa-redo"></i> Reset</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="content" id="profesi-content">
                        <h3><i class="fas fa-briefcase"></i> Zakat Profesi</h3>
                        <p>Zakat profesi adalah zakat yang dikeluarkan dari penghasilan yang diperoleh dari profesi atau pekerjaan. Pendapat ini didasarkan pada analogi (qiyas) dengan zakat pertanian dan zakat harta.</p>
                        
                        <div class="info-box">
                            <h4><i class="fas fa-lightbulb"></i> Informasi Penting</h4>
                            <p>Ulama kontemporer berbeda pendapat tentang wajibnya zakat profesi. Sebagian ulama mewajibkannya dengan qiyas pada zakat pertanian (dikeluarkan setiap menerima penghasilan), sebagian lain mengqiyaskannya pada zakat emas (dikeluarkan setelah mencapai nisab dan haul).</p>
                        </div>
                        
                        <h3><i class="fas fa-list-check"></i> Ketentuan Zakat Profesi</h3>
                        <ul class="feature-list">
                            <li><i class="fas fa-check-circle"></i> Nisab: setara dengan 85 gram emas</li>
                            <li><i class="fas fa-check-circle"></i> Kadar zakat: 2.5% dari penghasilan</li>
                            <li><i class="fas fa-check-circle"></i> Dapat dikeluarkan setiap bulan atau setiap tahun</li>
                            <li><i class="fas fa-check-circle"></i> Penghasilan yang dizakati adalah penghasilan bersih setelah dikurangi kebutuhan pokok</li>
                        </ul>
                        
                        <div class="calculator-box">
                            <div class="calculator-header">
                                <div class="calculator-title">
                                    <i class="fas fa-calculator"></i>
                                    <h3>Kalkulator Zakat Profesi</h3>
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <label for="incomeType"><i class="fas fa-money-check"></i> Jenis Penghasilan</label>
                                <select id="incomeType">
                                    <option value="monthly">Bulanan</option>
                                    <option value="annual">Tahunan</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label for="grossIncome"><i class="fas fa-money-bill"></i> Penghasilan Kotor (Rp)</label>
                                <input type="number" id="grossIncome" min="0" value="0">
                            </div>
                            
                            <div class="input-group">
                                <label for="tax"><i class="fas fa-receipt"></i> Pajak (Rp)</label>
                                <input type="number" id="tax" min="0" value="0">
                            </div>
                            
                            <div class="input-group">
                                <label for="otherDeductions"><i class="fas fa-minus-circle"></i> Potongan Lainnya (Rp)</label>
                                <input type="number" id="otherDeductions" min="0" value="0">
                            </div>
                            
                            <div class="input-group">
                                <label for="goldPriceProfesi"><i class="fas fa-tag"></i> Harga Emas per Gram (Rp)</label>
                                <input type="number" id="goldPriceProfesi" min="1000" value="1000000">
                            </div>
                            
                            <button onclick="calculateProfesi()"><i class="fas fa-calculator"></i> Hitung Zakat Profesi</button>
                            
                            <div class="result" id="profesiResult">
                                <h4><i class="fas fa-hand-holding-heart"></i> Hasil Perhitungan</h4>
                                <p>Penghasilan Bersih: <span id="netIncome" class="highlight">Rp 0</span></p>
                                <p>Nisab Zakat Profesi: <span id="nisabProfesi" class="highlight">Rp 0</span></p>
                                <p>Zakat Profesi yang Harus Dibayar: <span id="profesiTotal" class="highlight">Rp 0</span></p>
                                <p id="noZakatProfesiMessage" style="display: none;">Anda belum wajib membayar zakat profesi karena penghasilan Anda belum mencapai nisab.</p>
                            </div>
                            
                            <div class="btn-group">
                                <button class="btn-secondary" onclick="saveCalculation('profesi')"><i class="fas fa-save"></i> Simpan</button>
                                <button class="btn-secondary" onclick="printCalculation('profesi')"><i class="fas fa-print"></i> Cetak</button>
                                <button class="btn-secondary" onclick="resetForm('profesi')"><i class="fas fa-redo"></i> Reset</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="recipients">
            <h2><i class="fas fa-hand-holding-usd"></i> Golongan Penerima Zakat</h2>
            <div class="verse">
                "Sesungguhnya zakat-zakat itu hanyalah untuk orang-orang fakir, orang-orang miskin, pengurus-pengurus zakat, para mu'allaf yang dibujuk hatinya, untuk (memerdekakan) budak, orang-orang yang terlilit hutang, untuk jalan Allah, dan untuk mereka yang sedang dalam perjalanan, sebagai suatu ketetapan yang diwajibkan Allah; dan Allah Maha Mengetahui lagi Maha Bijaksana."
                <div class="reference">QS. At-Taubah: 60</div>
            </div>
            
            <h3><i class="fas fa-users"></i> 8 Golongan Penerima Zakat (Asnaf)</h3>
            <div class="zakat-types">
                <div class="zakat-type-card">
                    <h3><i class="fas fa-house-damage"></i> Fakir</h3>
                    <p>Orang yang hampir tidak memiliki harta untuk memenuhi kebutuhan dasar hidupnya.</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-hard-hat"></i> Miskin</h3>
                    <p>Orang yang memiliki harta tetapi tidak cukup untuk memenuhi kebutuhan dasar hidupnya.</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-user-tie"></i> Amil</h3>
                    <p>Panitia atau pengelola zakat yang bertugas mengumpulkan dan mendistribusikan zakat.</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-hands-helping"></i> Mualaf</h3>
                    <p>Orang yang baru masuk Islam dan membutuhkan bantuan untuk menguatkan iman dan ekonomi mereka.</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-shield-alt"></i> Riqab</h3>
                    <p>Budak yang ingin memerdekakan dirinya (dalam konteks modern untuk memerdekakan tenaga kerja paksa atau membebaskan hutang).</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-file-invoice-dollar"></i> Gharimin</h3>
                    <p>Orang yang terlilit hutang dan tidak mampu melunasinya untuk memenuhi kebutuhan hidup yang halal.</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-mosque"></i> Fisabilillah</h3>
                    <p>Orang yang berjuang di jalan Allah (seperti dakwah, pembangunan masjid, pendidikan Islam, dll).</p>
                </div>
                <div class="zakat-type-card">
                    <h3><i class="fas fa-hiking"></i> Ibnu Sabil</h3>
                    <p>Musafir yang kehabisan bekal di perjalanan untuk tujuan yang baik.</p>
                </div>
            </div>
        </section>
        
        <section id="faq">
            <h2><i class="fas fa-question-circle"></i> Pertanyaan Umum (FAQ)</h2>
            <p>Berikut adalah beberapa pertanyaan umum seputar zakat beserta jawabannya menurut ketentuan syariat Islam.</p>
            
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Apa perbedaan antara zakat fitrah dan zakat mal?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Zakat fitrah adalah zakat yang wajib dikeluarkan setiap muslim pada bulan Ramadan, berupa makanan pokok (seperti beras) sebesar 2.5 kg atau setara. Sementara zakat mal adalah zakat harta kekayaan yang dimiliki setelah mencapai nisab dan haul, dengan kadar 2.5% dari total harta.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Berapa nisab zakat mal dan bagaimana cara menghitungnya?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Nisab zakat mal setara dengan 85 gram emas. Cara menghitungnya adalah dengan mengalikan harga emas per gram dengan 85. Jika total harta kekayaan Anda mencapai atau melebihi nilai tersebut dan telah dimiliki selama satu tahun (haul), maka wajib mengeluarkan zakat sebesar 2.5% dari total harta tersebut.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Apakah hutang mempengaruhi kewajiban zakat mal?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Ya, hutang yang harus segera dibayar dapat mengurangi jumlah harta yang wajib dizakati. Namun, hutang yang tidak harus segera dibayar (jangka panjang) tidak mengurangi kewajiban zakat.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Kapan waktu yang tepat untuk membayar zakat mal?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Zakat mal dapat dibayar kapan saja setelah harta mencapai nisab dan telah dimiliki selama satu tahun (haul). Namun, banyak orang memilih untuk membayarnya pada bulan Ramadan karena pahala yang berlipat ganda.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Apakah zakat profesi wajib menurut Islam?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Ulama kontemporer berbeda pendapat tentang kewajiban zakat profesi. Sebagian ulama mewajibkannya dengan mengqiyaskannya pada zakat pertanian (dikeluarkan setiap menerima penghasilan), sementara yang lain mengqiyaskannya pada zakat emas (dikeluarkan setelah mencapai nisab dan haul). Untuk kehati-hatian, banyak muslim yang memilih untuk mengeluarkan zakat profesi.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="contact">
            <h2><i class="fas fa-envelope"></i> Hubungi Kami</h2>
            <p>Jika Anda memiliki pertanyaan lebih lanjut tentang zakat atau kesulitan menggunakan kalkulator ini, jangan ragu untuk menghubungi kami.</p>
            
            <div class="zakat-types">
                <div class="zakat-type-card">
                    <h3><i class="fas fa-info-circle"></i> Informasi Lembaga Zakat</h3>
                    <p>Anda dapat menyalurkan zakat melalui lembaga zakat terpercaya seperti:</p>
                    <ul class="feature-list">
                        <li><i class="fas fa-building"></i> Baznas (Badan Amil Zakat Nasional)</li>
                        <li><i class="fas fa-hands-helping"></i> Dompet Dhuafa</li>
                        <li><i class="fas fa-hand-holding-heart"></i> Rumah Zakat</li>
                        <li><i class="fas fa-mosque"></i> LAZIS Muhammadiyah</li>
                        <li><i class="fas fa-mosque"></i> LAZIS NU</li>
                    </ul>
                </div>
                
                <div class="zakat-type-card">
                    <h3><i class="fas fa-question"></i> Butuh Bantuan?</h3>
                    <p>Jika Anda membutuhkan bantuan terkait perhitungan zakat atau memiliki pertanyaan lain, silakan hubungi:</p>
                    <ul class="feature-list">
                        <li><i class="fas fa-envelope"></i> Email: info@kalkulatorzakat.com</li>
                        <li><i class="fas fa-phone"></i> Telepon: (021) 1234-5678</li>
                        <li><i class="fab fa-whatsapp"></i> WhatsApp: 0812-3456-7890</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="footer-content">
            <p>Â© 2023 Kalkulator Zakat Lengkap - Disusun berdasarkan ketentuan syariat Islam</p>
            <ul class="footer-links">
                <li><a href="#intro">Tentang Zakat</a></li>
                <li><a href="#calculators">Kalkulator</a></li>
                <li><a href="#recipients">Penerima Zakat</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#contact">Kontak</a></li>
            </ul>
            <p>Disclaimer: Perhitungan ini berdasarkan pemahaman umum ketentuan zakat. Untuk kasus khusus, disarankan untuk berkonsultasi dengan lembaga zakat terpercaya atau ulama.</p>
        </div>
    </footer>

    <script>
        // Tab functionality
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab + '-content').classList.add('active');
                
                // Save active tab to localStorage
                localStorage.setItem('activeTab', tab.dataset.tab);
            });
        });
        
        // Restore active tab from localStorage
        const activeTab = localStorage.getItem('activeTab');
        if (activeTab) {
            document.querySelectorAll('.tab').forEach(t => {
                if (t.dataset.tab === activeTab) {
                    t.classList.add('active');
                    document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
                    document.getElementById(activeTab + '-content').classList.add('active');
                } else {
                    t.classList.remove('active');
                }
            });
        }
        
        // Mobile menu functionality
        document.getElementById('mobileMenuBtn').addEventListener('click', () => {
            document.querySelector('.nav-links').classList.toggle('active');
        });
        
        // FAQ functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const item = question.parentElement;
                item.classList.toggle('active');
            });
        });
        
        // Change Mal Type
        function changeMalType() {
            const malType = document.getElementById('malType').value;
            document.querySelectorAll('.mal-type').forEach(el => el.classList.remove('active'));
            document.getElementById(malType + '-inputs').classList.add('active');
        }
        
        // Zakat Fitrah Calculation
        function calculateFitrah() {
            const members = parseInt(document.getElementById('familyMembers').value) || 1;
            const ricePrice = parseInt(document.getElementById('ricePrice').value) || 15000;
            
            const zakatPerPerson = 2.5 * ricePrice;
            const totalZakat = members * zakatPerPerson;
            
            document.getElementById('fitrahTotal').textContent = formatRupiah(totalZakat);
            document.getElementById('fitrahDetail').textContent = `${members} orang Ã— 2.5 kg Ã— ${formatRupiah(ricePrice)} = ${formatRupiah(totalZakat)}`;
            
            // Save to localStorage
            const calculation = {
                type: 'fitrah',
                members: members,
                ricePrice: ricePrice,
                totalZakat: totalZakat,
                timestamp: new Date().toISOString()
            };
            localStorage.setItem('lastFitrahCalculation', JSON.stringify(calculation));
        }
        
        // Zakat Mal Calculation
        function calculateMal() {
            const malType = document.getElementById('malType').value;
            const goldPrice = parseInt(document.getElementById('goldPriceGram').value) || 1000000;
            const debts = parseInt(document.getElementById('debts').value) || 0;
            
            // Calculate nisab (85 grams of gold)
            const nisab = 85 * goldPrice;
            
            let totalWealth = 0;
            
            // Calculate based on mal type
            if (malType === 'money') {
                const savings = parseInt(document.getElementById('savings').value) || 0;
                const otherMoney = parseInt(document.getElementById('otherMoney').value) || 0;
                totalWealth = savings + otherMoney;
            } 
            else if (malType === 'gold') {
                const goldWeight = parseFloat(document.getElementById('goldWeight').value) || 0;
                const goldPriceGram = parseInt(document.getElementById('goldPriceGram').value) || 1000000;
                const silverWeight = parseFloat(document.getElementById('silverWeight').value) || 0;
                const silverPriceGram = parseInt(document.getElementById('silverPriceGram').value) || 12000;
                
                totalWealth = (goldWeight * goldPriceGram) + (silverWeight * silverPriceGram);
            }
            else if (malType === 'agriculture') {
                const cropAmount = parseInt(document.getElementById('cropAmount').value) || 0;
                const irrigationType = document.getElementById('irrigationType').value;
                
                // Nisab pertanian adalah 653 kg gabah atau setara 520 kg beras
                const agricultureNisab = 520; // kg
                
                // Calculate zakatable amount
                if (cropAmount >= agricultureNisab) {
                    const zakatRate = irrigationType === 'rain' ? 0.1 : 0.05;
                    const zakatAmount = cropAmount * zakatRate;
                    
                    // Display results for agriculture
                    document.getElementById('nisab').textContent = `${agricultureNisab} kg`;
                    document.getElementById('totalWealth').textContent = `${cropAmount} kg`;
                    document.getElementById('zakatableWealth').textContent = `${cropAmount} kg`;
                    document.getElementById('malTotal').textContent = `${zakatAmount} kg (${zakatRate * 100}%)`;
                    
                    const noZakatMessage = document.getElementById('noZakatMessage');
                    noZakatMessage.style.display = 'none';
                    
                    // Save to localStorage
                    const calculation = {
                        type: 'mal',
                        malType: malType,
                        cropAmount: cropAmount,
                        irrigationType: irrigationType,
                        zakatAmount: zakatAmount,
                        timestamp: new Date().toISOString()
                    };
                    localStorage.setItem('lastMalCalculation', JSON.stringify(calculation));
                    
                    return;
                } else {
                    // Display results for agriculture below nisab
                    document.getElementById('nisab').textContent = `${agricultureNisab} kg`;
                    document.getElementById('totalWealth').textContent = `${cropAmount} kg`;
                    document.getElementById('zakatableWealth').textContent = `${cropAmount} kg`;
                    document.getElementById('malTotal').textContent = `0 kg`;
                    
                    const noZakatMessage = document.getElementById('noZakatMessage');
                    noZakatMessage.style.display = 'block';
                    noZakatMessage.textContent = "Anda belum wajib membayar zakat pertanian karena hasil panen Anda belum mencapai nisab (520 kg).";
                    
                    return;
                }
            }
            else if (malType === 'livestock') {
                const livestockType = document.getElementById('livestockType').value;
                const livestockCount = parseInt(document.getElementById('livestockCount').value) || 0;
                
                // Define nisab and rates for different livestock
                let livestockNisab = 0;
                let zakatRate = 0;
                let animalType = "";
                
                if (livestockType === 'cow') {
                    livestockNisab = 30;
                    animalType = "sapi/kerbau";
                    if (livestockCount >= 30 && livestockCount < 40) {
                        zakatRate = 1; // 1 ekor tabi' (sapi jantan 1 tahun) atau tabi'ah (sapi betina 1 tahun)
                    } else if (livestockCount >= 40 && livestockCount < 60) {
                        zakatRate = 1; // 1 ekor musinnah (sapi betina 2 tahun)
                    }
                    // Add more tiers as needed
                } 
                else if (livestockType === 'goat') {
                    livestockNisab = 40;
                    animalType = "kambing/domba";
                    if (livestockCount >= 40 && livestockCount < 120) {
                        zakatRate = 1;
                    } else if (livestockCount >= 120 && livestockCount < 200) {
                        zakatRate = 2;
                    }
                    // Add more tiers as needed
                }
                else if (livestockType === 'poultry') {
                    // For poultry, zakat is typically calculated based on value
                    const estimatedValue = livestockCount * 50000; // Assuming average value per bird
                    totalWealth = estimatedValue;
                }
                
                if (livestockType !== 'poultry') {
                    if (livestockCount >= livestockNisab) {
                        // Display results for livestock
                        document.getElementById('nisab').textContent = `${livestockNisab} ekor ${animalType}`;
                        document.getElementById('totalWealth').textContent = `${livestockCount} ekor`;
                        document.getElementById('zakatableWealth').textContent = `${livestockCount} ekor`;
                        document.getElementById('malTotal').textContent = `${zakatRate} ekor`;
                        
                        const noZakatMessage = document.getElementById('noZakatMessage');
                        noZakatMessage.style.display = 'none';
                        
                        // Save to localStorage
                        const calculation = {
                            type: 'mal',
                            malType: malType,
                            livestockType: livestockType,
                            livestockCount: livestockCount,
                            zakatAmount: zakatRate,
                            timestamp: new Date().toISOString()
                        };
                        localStorage.setItem('lastMalCalculation', JSON.stringify(calculation));
                        
                        return;
                    } else {
                        // Display results for livestock below nisab
                        document.getElementById('nisab').textContent = `${livestockNisab} ekor ${animalType}`;
                        document.getElementById('totalWealth').textContent = `${livestockCount} ekor`;
                        document.getElementById('zakatableWealth').textContent = `${livestockCount} ekor`;
                        document.getElementById('malTotal').textContent = `0 ekor`;
                        
                        const noZakatMessage = document.getElementById('noZakatMessage');
                        noZakatMessage.style.display = 'block';
                        noZakatMessage.textContent = `Anda belum wajib membayar zakat peternakan karena jumlah ${animalType} Anda belum mencapai nisab (${livestockNisab} ekor).`;
                        
                        return;
                    }
                }
            }
            else if (malType === 'trade') {
                const businessAssets = parseInt(document.getElementById('businessAssets').value) || 0;
                const businessProfit = parseInt(document.getElementById('businessProfit').value) || 0;
                const businessDebts = parseInt(document.getElementById('businessDebts').value) || 0;
                
                totalWealth = businessAssets + businessProfit - businessDebts;
            }
            
            // Calculate zakatable wealth (minus debts)
            const zakatableWealth = Math.max(0, totalWealth - debts);
            
            // Calculate zakat
            let zakat = 0;
            if (zakatableWealth >= nisab) {
                zakat = 0.025 * zakatableWealth;
            }
            
            // Display results
            document.getElementById('nisab').textContent = formatRupiah(nisab);
            document.getElementById('totalWealth').textContent = formatRupiah(totalWealth);
            document.getElementById('zakatableWealth').textContent = formatRupiah(zakatableWealth);
            document.getElementById('malTotal').textContent = formatRupiah(zakat);
            
            const noZakatMessage = document.getElementById('noZakatMessage');
            if (zakatableWealth < nisab) {
                noZakatMessage.style.display = 'block';
                noZakatMessage.textContent = "Anda belum wajib membayar zakat mal karena harta Anda belum mencapai nisab.";
            } else {
                noZakatMessage.style.display = 'none';
            }
            
            // Save to localStorage
            const calculation = {
                type: 'mal',
                malType: malType,
                totalWealth: totalWealth,
                debts: debts,
                zakatableWealth: zakatableWealth,
                zakatAmount: zakat,
                timestamp: new Date().toISOString()
            };
            localStorage.setItem('lastMalCalculation', JSON.stringify(calculation));
        }
        
        // Zakat Profesi Calculation
        function calculateProfesi() {
            const incomeType = document.getElementById('incomeType').value;
            const grossIncome = parseInt(document.getElementById('grossIncome').value) || 0;
            const tax = parseInt(document.getElementById('tax').value) || 0;
            const otherDeductions = parseInt(document.getElementById('otherDeductions').value) || 0;
            const goldPrice = parseInt(document.getElementById('goldPriceProfesi').value) || 1000000;
            
            // Calculate net income
            const netIncome = grossIncome - tax - otherDeductions;
            
            // Calculate nisab (85 grams of gold)
            const nisab = 85 * goldPrice;
            
            // Calculate annual income if monthly
            let annualIncome = netIncome;
            if (incomeType === 'monthly') {
                annualIncome = netIncome * 12;
            }
            
            // Calculate zakat
            let zakat = 0;
            if (annualIncome >= nisab) {
                zakat = 0.025 * netIncome;
            }
            
            // Display results
            document.getElementById('netIncome').textContent = formatRupiah(netIncome);
            document.getElementById('nisabProfesi').textContent = formatRupiah(nisab);
            document.getElementById('profesiTotal').textContent = formatRupiah(zakat);
            
            const noZakatMessage = document.getElementById('noZakatProfesiMessage');
            if (annualIncome < nisab) {
                noZakatMessage.style.display = 'block';
                noZakatMessage.textContent = "Anda belum wajib membayar zakat profesi karena penghasilan Anda belum mencapai nisab.";
            } else {
                noZakatMessage.style.display = 'none';
            }
            
            // Save to localStorage
            const calculation = {
                type: 'profesi',
                incomeType: incomeType,
                grossIncome: grossIncome,
                netIncome: netIncome,
                zakatAmount: zakat,
                timestamp: new Date().toISOString()
            };
            localStorage.setItem('lastProfesiCalculation', JSON.stringify(calculation));
        }
        
        // Format number to Rupiah
        function formatRupiah(amount) {
            return new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0
            }).format(amount);
        }
        
        // Save calculation to localStorage
        function saveCalculation(type) {
            let calculation;
            switch(type) {
                case 'fitrah':
                    calculation = localStorage.getItem('lastFitrahCalculation');
                    break;
                case 'mal':
                    calculation = localStorage.getItem('lastMalCalculation');
                    break;
                case 'profesi':
                    calculation = localStorage.getItem('lastProfesiCalculation');
                    break;
            }
            
            if (calculation) {
                const calculations = JSON.parse(localStorage.getItem('savedCalculations') || '[]');
                calculations.push(JSON.parse(calculation));
                localStorage.setItem('savedCalculations', JSON.stringify(calculations));
                
                alert('Perhitungan berhasil disimpan!');
            } else {
                alert('Tidak ada perhitungan untuk disimpan. Silakan hitung terlebih dahulu.');
            }
        }
        
        // Print calculation
        function printCalculation(type) {
            window.print();
        }
        
        // Reset form
        function resetForm(type) {
            if (type === 'fitrah') {
                document.getElementById('familyMembers').value = '1';
                document.getElementById('ricePrice').value = '15000';
                document.getElementById('fitrahTotal').textContent = 'Rp 0';
                document.getElementById('fitrahDetail').textContent = '-';
            } else if (type === 'mal') {
                document.getElementById('savings').value = '0';
                document.getElementById('otherMoney').value = '0';
                document.getElementById('goldWeight').value = '0';
                document.getElementById('goldPriceGram').value = '1000000';
                document.getElementById('silverWeight').value = '0';
                document.getElementById('silverPriceGram').value = '12000';
                document.getElementById('cropAmount').value = '0';
                document.getElementById('livestockCount').value = '0';
                document.getElementById('businessAssets').value = '0';
                document.getElementById('businessProfit').value = '0';
                document.getElementById('businessDebts').value = '0';
                document.getElementById('debts').value = '0';
                document.getElementById('nisab').textContent = 'Rp 0';
                document.getElementById('totalWealth').textContent = 'Rp 0';
                document.getElementById('zakatableWealth').textContent = 'Rp 0';
                document.getElementById('malTotal').textContent = 'Rp 0';
                document.getElementById('noZakatMessage').style.display = 'none';
            } else if (type === 'profesi') {
                document.getElementById('grossIncome').value = '0';
                document.getElementById('tax').value = '0';
                document.getElementById('otherDeductions').value = '0';
                document.getElementById('goldPriceProfesi').value = '1000000';
                document.getElementById('netIncome').textContent = 'Rp 0';
                document.getElementById('nisabProfesi').textContent = 'Rp 0';
                document.getElementById('profesiTotal').textContent = 'Rp 0';
                document.getElementById('noZakatProfesiMessage').style.display = 'none';
            }
        }
        
        // Progress bar functionality
        window.onscroll = function() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById("progressBar").style.width = scrolled + "%";
        };
        
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                    
                    // Close mobile menu if open
                    document.querySelector('.nav-links').classList.remove('active');
                }
            });
        });
        
        // Initial calculations
        window.onload = function() {
            calculateFitrah();
            calculateMal();
            
            // Load saved calculations if any
            const savedCalculations = localStorage.getItem('savedCalculations');
            if (savedCalculations) {
                console.log('Saved calculations:', JSON.parse(savedCalculations));
            }
        };
    </script>
</body>
</html>